<div id="container-sprint-itemview">

	<!-- -------------------------------------------------- -->
	<!-- Sprint Header -->
	<!-- -------------------------------------------------- -->
	<div class="panel panel-primary">
		<div class="panel-heading">
			<strong>Sprint</strong>
			<span class="pull-right">
				<action-icon icon="warning-sign" tip="Cannot edit an expired sprint" ng-show="sprint.isExpired()" invert="true"></action-icon>
				<!-- <action-icon icon="edit" action="sprintsCrudHelpers.edit(sprint.$id())" tip="Edit Sprint" invert="true" ng-hide="sprint.isExpired()"></action-icon> -->
				<action-icon icon="edit" action="sprintsCrudHelpers.edit(sprint.$id())" tip="Edit Sprint" invert="true"></action-icon>
 				<!-- <button class="btn btn-primary" role="button" ng-click="sprintsCrudHelpers.edit(sprint.$id())" ng-hide="sprint.isExpired()" ng-cloak><icon id="edit"></icon> Edit Sprint</button> -->
			</span>
		</div>
	</div>

	<!-- -------------------------------------------------- -->
	<!-- Sprint Title, Description, Properties -->
	<!-- -------------------------------------------------- -->
	<div class="panel panel-info">
		<div class="panel-heading">
			<div class="media">
				<property-bar properties="sprint.attributeValuesToDisplay" root-div-class="media-object pull-right" reverse="true" ></property-bar>
				<div class="media-body">
					<label class="media-heading">{{sprint.name}}</label>
					<p><span class="badge" ng-cloak><strong>{{sprint.$id()}}</strong></span></p>
				</div>
			</div>

			<!-- <span class="pull-left"><h4 class="media-heading">{{sprint.name}}</h4></span> -->

		</div>
		<div class="panel-body">
			<div class="media">
				<div class="media-body">
					<p>{{sprint.description}}</p>
					<!-- <a class="btn btn-primary media-object pull-right" role="button" ng-click="sprintsCrudHelpers.edit(sprint.$id())" ng-cloak><icon id="edit"></icon> Edit Sprint</a> -->
					<!-- <span class="form-group pull-right"> -->
					<!-- 	<a class="btn btn-primary media-object" role="button" ng-click="sprintsCrudHelpers.edit(sprint.$id())" ng-disabled="sprint.isExpired()" ng-cloak><icon id="edit"></icon> Edit Sprint</a> -->
					<!-- 	<p class="help-block" ng-show="sprint.isExpired()">Cannot edit an expired sprint</p> -->
					<!-- </span> -->
					<!-- <button class="btn btn-primary media-object pull-right" role="button" ng-click="sprintsCrudHelpers.edit(sprint.$id())" ng-disabled="sprint.isExpired()" tooltip="editToolTip()" ng-cloak><icon id="edit"></icon> <icon id="warning-sign"></icon> Edit Sprint</button> -->
					
					<!-- <span class="media-object pull-right"> -->
					<!-- 	<action-icon icon="warning-sign" tip="Cannot edit an expired sprint" ng-show="sprint.isExpired()"></action-icon> -->
 					<!-- 	<button class="btn btn-primary" role="button" ng-click="sprintsCrudHelpers.edit(sprint.$id())" ng-hide="sprint.isExpired()" ng-cloak><icon id="edit"></icon> Edit Sprint</button> -->
					<!-- </span> -->
				</div>					
			</div>
		</div>
	</div>

	<accordion close-others="false">
		<accordion-group is-open="commentAccord.commentOpen" panel-class="success" ng-init="commentAccord = {commentOpen: false}">
			<accordion-heading>
				<span class="hover-pointer">Comments</span>
				<span class="pull-right hover-pointer" ng-show="!commentAccord.commentOpen"><icon id="chevron-down"></icon></span>
				<span class="pull-right hover-pointer" ng-show="commentAccord.commentOpen"><icon id="chevron-up"></icon></span>
			</accordion-heading>
			<!-- <comment resource-id="{{sprint.$id()}}" for-resource="sprints" user-id="{{Users.$id()}}"></comment> -->
			<comment resource-id="{{sprint.$id()}}" for-resource="sprints" user-id="{{security.currentUser.ID}}"></comment>
			<span class="pull-right hover-pointer" ng-show="commentAccord.commentOpen" ng-click="commentAccord.commentOpen = false"><icon id="chevron-up"></icon></span>
		</accordion-group>
		<!-- <accordion-group-chevron heading="Comments" panel-class="success"> -->
		<!-- 	<comment resource-id="{{project.$id()}}" for-resource="projects" user-id="{{security.currentUser.ID}}"></comment> -->
		<!-- </accordion-group-chevron> -->
	</accordion>

	<!-- -------------------------------------------------- -->
	<!-- Other Entities -->
	<!-- TODO: Implement this with ng-repeat or in separate template files -->
	<!-- -------------------------------------------------- -->
	<div class="panel panel-default">
		<tabset justified="true" type="pills">
			<tab heading="Dashboard">
				<div class="panel panel-default">
					<gantt-chart
						 items="sprints"
						 resourceconf="sprintsGanttConf"
						 item-to-task-data-source="sprintData(item)"
						 fetchingitems="fetchingSprints"
						 update-validator="sprintsGanttUpdateValidator(item, update)"
						 title="Sprint Gantt View"
						 >
					</gantt-chart>
				</div>
				<!-- div panel -->

				<div class="panel panel-default">
					<gantt-chart
						 items="tasks"
						 resourceconf="tasksGanttConf"
						 item-to-task-data-source="taskData(item)"
						 fetchingitems="fetchingTasks"
						 update-validator="tasksGanttUpdateValidator(item, update)"
						 title="Tasks in {{sprint.name}}"
						 >
					</gantt-chart>
				</div>
				<!-- div panel -->

				<div class="panel panel-default">
					<gantt-chart
						 items="backlogItem"
						 resourceconf="backlogItemsGanttConf"
						 item-to-task-data-source="backlogItemData(item)"
						 fetchingitems="fetchingbacklogItems"
						 update-validator="sprintGanttUpdateValidator(item, update)"
						 title="Backlog Items in {{sprint.name}}"
						 >
					</gantt-chart>
				</div>
				<!-- div panel -->

				<pie-chart items="tasks" fetchingitems="fetchingTasks" chart-config="pieChartConfig"></pie-chart>		
			</tab>
			<tab heading="Tasks">
				<tableactive items="tasks" fetchingitems="fetchingTasks" resourceconf="tasksConf" ></tableactive>
			</tab>
		</tabset>
	</div>
	<!-- Other Entities End -->

</div>
